{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Notes","text":""},{"location":"#table-of-contents","title":"Table of contents","text":"<ul> <li>Documentations</li> <li>Django</li> <li>Linux</li> <li>Keycloak</li> <li>Git</li> </ul>"},{"location":"#general","title":"G\u00e9n\u00e9ral","text":"<ul> <li>On the Importance of Naming in Programming</li> </ul>"},{"location":"#architecture-logicielle","title":"Architecture logicielle","text":"<ul> <li>The Twelve-Factor App</li> <li>Tips for analyzing logs</li> <li>The Architecture Behind A One-Person Tech Startup</li> </ul>"},{"location":"#frontend","title":"Frontend","text":"<ul> <li>Naming things is hard, SPA edition</li> <li>How To Hydrate A Server-Side Rendered Web Component</li> <li>How To Server-Side Render A Web Component</li> <li>Analyser le comportement r\u00e9seau pour am\u00e9liorer FCP et LCP</li> <li>OKLCH in CSS: why we moved from RGB and HSL</li> </ul>"},{"location":"#git","title":"Git","text":"<ul> <li>git rebase: what can go wrong?</li> </ul>"},{"location":"#postgresql","title":"PostgreSQL","text":"<ul> <li>Explaining The Postgres Meme</li> <li>Don't Do This</li> <li>Schemalint</li> </ul>"},{"location":"#docker","title":"Docker","text":"<ul> <li>Orbstack</li> </ul>"},{"location":"git/","title":"Git","text":""},{"location":"git/#commandes-utiles","title":"Commandes utiles","text":""},{"location":"git/#diff","title":"Diff","text":"<pre><code>git diff\n</code></pre>"},{"location":"git/#lister-les-fichiers-dun-commit","title":"Lister les fichiers d'un commit","text":"<pre><code>git show --name-only\n</code></pre> <p>Exemple :</p> <pre><code>commit 44e20c2a834415f760c46ad9a2ece15232fb6116 (HEAD -&gt; appbg, tag: v0.0.40, origin/master, origin/HEAD, master)\nAuthor: Romain Quencez &lt;34655643+romainquencez@users.noreply.github.com&gt;\nDate:   Mon Nov 6 08:57:04 2023 +0100\n\n    Front - Ajoute la balise meta theme-color\n\nservices/frontend/index.html\n</code></pre>"},{"location":"git/#log-detaille","title":"Log d\u00e9taill\u00e9","text":"<pre><code>git log --all --graph --oneline --decorate\n</code></pre> <p>Exemple :</p> <pre><code>* 73acb23 (HEAD -&gt; fix-exploitations, origin/fix-exploitations) Exploitations - Fix l'affichage en mobile\n* 76a1e2b (origin/master, origin/HEAD, master) GitHub - Ajoute le d\u00e9ploiement au push de tag\n| * 001a478 (origin/deploy, deploy) GitHub - Ajoute le d\u00e9ploiement au push de tag\n|/\n* c09a97c Front - Corrige le nom de l'env\n* 02d0e97 Front - Ajoute l'int\u00e9gration Sentry\n</code></pre>"},{"location":"git/#liens-utiles","title":"Liens utiles","text":"<ul> <li>Documentation de Git</li> </ul>"},{"location":"keycloak/","title":"Keycloak","text":""},{"location":"keycloak/#principe","title":"Principe","text":""},{"location":"keycloak/#realm","title":"Realm","text":"<p>Un realm est un ensemble d'utilisateurs. Par d\u00e9faut un realm <code>master</code> existe, mais est r\u00e9serv\u00e9 \u00e0 Keycloak et ne doit pas \u00eatre utilis\u00e9 par l'application.</p>"},{"location":"keycloak/#authentification","title":"Authentification","text":"<p>Depuis le front de l'application, l'utilisateur souhaite se connecter. Il est redirig\u00e9 vers le front de connexion de Keycloak, o\u00f9 il peut s'identifier mais aussi demander un nouveau mot de passe si il l'a oubli\u00e9.</p> <p>Une fois ses identifiants renseign\u00e9s et envoy\u00e9s, Keycloak redirige l'utilisateur vers une URL de l'application (callback). L'application a acc\u00e8s \u00e0 un jeton de courte validit\u00e9, qui doit \u00eatre envoy\u00e9 \u00e0 Keycloak pour r\u00e9cup\u00e9rer un jeton d'acc\u00e8s.</p> <p>Ce jeton d'acc\u00e8s devra \u00eatre inclus dans l'ent\u00eate de chaque requ\u00eate HTTP vers l'API de l'application. L'application peut utiliser une biblioth\u00e8que qui va se charger de v\u00e9rifier la validit\u00e9 du jeton, et le cas \u00e9ch\u00e9ant va tenter d'en g\u00e9n\u00e9rer un nouveau.</p>"},{"location":"keycloak/#configuration","title":"Configuration","text":"<p>Un service Keycloak doit \u00eatre cr\u00e9\u00e9.</p> <p>Acc\u00e9der \u00e0 l'admin, et cr\u00e9er un nouveau realm.</p> <ul> <li>Get started with Keycloak on Docker</li> </ul>"},{"location":"linux/","title":"Linux","text":""},{"location":"linux/#table-of-contents","title":"Table of contents","text":"<ul> <li>Commands</li> <li>Get last lines of file</li> <li>Directory structure</li> <li>Network services</li> </ul>"},{"location":"linux/#commands","title":"Commands","text":"<ul> <li><code>history</code> Shell history</li> <li><code>history | less</code> Same, browsable with keyboard</li> <li><code>watch \u2018&lt;command&gt;\u2019</code> Run command each X seconds (3 default) and print result</li> <li><code>htop</code> Command-line task manager</li> <li><code>&lt;command&gt; | grep &lt;filter&gt;</code> Filter a result</li> </ul>"},{"location":"linux/#get-last-lines-of-file","title":"Get last lines of file","text":"<p>https://www.computerhope.com/unix/utail.htm</p> <pre><code>tail &lt;file&gt;\n</code></pre> <ul> <li><code>&lt;file&gt;</code> show last lines from this file.</li> <li><code>-f</code> update lines in real-time.</li> <li><code>-n &lt;lines&gt;</code> show last X lines (10 by default).</li> </ul>"},{"location":"linux/#directory-structure","title":"Directory structure","text":"<ul> <li><code>/bin</code> system's base commands.</li> <li><code>/boot</code> necessary files for booting.</li> <li><code>/dev</code> store devices informations (hard disk for example).</li> <li><code>/etc</code> configuration files.</li> <li><code>/home</code> personal folders of users.</li> <li><code>/lib</code> shared libs (.so). Like .dll in Windows.</li> <li><code>/lost+found</code> store lost/found files in case of disk crash.</li> <li><code>/media</code> for removable devices (USB key, SD card...).</li> <li><code>/mnt</code> for temporary mounted devices (optical disk...).</li> <li><code>/opt</code> programs add-ons.</li> <li><code>/proc</code> fake directory with system informations (CPU, RAM...)</li> <li><code>/root</code> personal directory of root user.</li> <li><code>/sbin</code> important system programs.</li> <li><code>/tmp</code> temporary files. They will be deleted.</li> <li><code>/usr</code> user's programs.</li> <li><code>/var</code> variables files, like logs.</li> </ul>"},{"location":"linux/#network-services","title":"Network services","text":"<pre><code>systemctl &lt;command&gt; &lt;service&gt;\n</code></pre> <p>Administrator rights needed.</p>"},{"location":"linux/#commands_1","title":"Commands","text":"<ul> <li><code>start</code></li> <li><code>stop</code></li> <li><code>restart</code></li> <li><code>enable</code></li> <li><code>disable</code></li> </ul>"},{"location":"linux/#services","title":"Services","text":"<p>Docker, etc...</p>"},{"location":"php/","title":"PHP","text":""},{"location":"php/#syntaxe","title":"Syntaxe","text":"<p>PHP inclut \u00e9galement la balise courte echo &lt;?=, qui est un raccourci pour &lt;?php echo.</p> <pre><code>Vous pouvez utiliser la balise courte pour &lt;?= '\u00e9crire ce texte' ?&gt;.\nEst \u00e9quivalent \u00e0 &lt;?php echo '\u00e9crire ce texte' ?&gt;.\n</code></pre> <p>Pour assigner par r\u00e9f\u00e9rence, ajoutez simplement un &amp; (ET commercial) au d\u00e9but de la variable qui est assign\u00e9e (la variable source).</p> <pre><code>$foo = 'Pierre';              // Assigne la valeur 'Pierre' \u00e0 $foo\n$bar = &amp;$foo;                 // R\u00e9f\u00e9rence $foo avec $bar.\n</code></pre>"},{"location":"php/#operateur-de-controle-derreur","title":"Op\u00e9rateur de contr\u00f4le d'erreur","text":"<p>PHP supporte un op\u00e9rateur de contr\u00f4le d'erreur : l'arobase (@). Lorsque cet op\u00e9rateur est ajout\u00e9 en pr\u00e9fixe d'une expression PHP, les diagnostics d'erreurs qui peuvent \u00eatre g\u00e9n\u00e9r\u00e9s par cette expression seront ignor\u00e9s.</p> <pre><code>$value = @$cache[$key];\n// la ligne ci-dessus n'affichera pas d'alerte si la cl\u00e9 $key du tableau n'existe pas\n</code></pre>"},{"location":"php/#operateurs-fonctionnels","title":"Op\u00e9rateurs fonctionnels","text":"<p>L'op\u00e9rateur <code>|&gt;</code>, ou \u00ab pipe \u00bb, accepte une fonction callable \u00e0 un seul param\u00e8tre \u00e0 droite et lui transmet la valeur de gauche, le r\u00e9sultat \u00e9tant la valeur renvoy\u00e9e par la fonction callable.</p> <pre><code>$result = \"PHP Rocks\"\n    |&gt; htmlentities(...)\n    |&gt; str_split(...)\n    |&gt; (fn($x) =&gt; array_map(strtoupper(...), $x))\n    |&gt; (fn($x) =&gt; array_filter($x, fn($v) =&gt; $v != 'O'))\n;\n</code></pre>"},{"location":"php/#fonctions-flechees","title":"Fonctions fl\u00e9ch\u00e9es","text":"<p>Les fonctions fl\u00e9ch\u00e9es supportent les m\u00eames fonctionnalit\u00e9s que les fonctions anonymes, \u00e0 l'exception que l'utilisation des variables de la port\u00e9e parente est automatique.</p> <pre><code>$fn1 = fn($x) =&gt; $x + $y;\n</code></pre>"},{"location":"php/#variables-globales","title":"Variables globales","text":"<p>Le mot-cl\u00e9 global est utilis\u00e9 pour lier une variable de la port\u00e9e globale dans une port\u00e9e locale. Une deuxi\u00e8me m\u00e9thode pour acc\u00e9der aux variables globales est d'utiliser le tableau associatif pr\u00e9-d\u00e9fini <code>$GLOBALS</code>.</p> <pre><code>$a = 1;\n$b = 2;\nfunction somme() {\n    global $a, $b;\n    $b = $a + $b;\n}\nsomme();\necho $b;\n</code></pre>"},{"location":"php/#variables-statiques","title":"Variables statiques","text":"<p>Une variable statique a une port\u00e9e locale uniquement, mais elle ne perd pas sa valeur lorsque le script appelle la fonction.</p> <pre><code>function test()\n{\n    static $a = 0;\n    echo $a;\n    $a++;\n}\n</code></pre> <p>Maintenant, la variable $a est initialis\u00e9e uniquement lors du premier appel \u00e0 la fonction et, \u00e0 chaque fois que la fonction test() est appel\u00e9e, elle affichera une valeur de $a incr\u00e9ment\u00e9e de 1.</p>"},{"location":"php/#variables-dynamiques","title":"Variables dynamiques","text":"<p>Une variable dynamique prend la valeur d'une variable et l'utilise comme nom d'une autre variable.</p> <pre><code>$a = 'bonjour';             // $a avec comme valeur \"bonjour\"\n$$a = 'monde';              // $bonjour avec comme valeur \"monde\"\n</code></pre>"},{"location":"php/#variables-superglobales","title":"Variables superglobales","text":"<p>Les variables internes qui sont toujours disponibles, quel que soit le contexte.</p> <ul> <li><code>$GLOBALS</code> : R\u00e9f\u00e9rence toutes les variables disponibles dans un contexte global</li> <li><code>$_SERVER</code> : Variables de serveur et d'ex\u00e9cution</li> <li><code>$_GET</code> : Variables de cha\u00eene de requ\u00eate</li> <li><code>$_POST</code> : Donn\u00e9es de formulaire depuis des requ\u00eates HTTP POST</li> <li><code>$_FILES</code> : Variable de t\u00e9l\u00e9chargement de fichier via HTTP</li> <li><code>$_COOKIE</code> : Cookies HTTP</li> <li><code>$_SESSION</code> : Variables de session</li> <li><code>$_REQUEST</code> : Variables de requ\u00eate HTTP</li> <li><code>$_ENV</code> : Variables d'environnement</li> </ul> <p>https://www.php.net/manual/fr/language.variables.superglobals.php</p>"},{"location":"php/#classes","title":"Classes","text":"<pre><code>class SimpleClass\n{\n    // d\u00e9claration d'une propri\u00e9t\u00e9\n    public $var = 'une valeur par d\u00e9faut';\n\n    // d\u00e9claration des m\u00e9thodes\n    public function displayVar() {\n        echo $this-&gt;var;\n    }\n}\n</code></pre> <p>La pseudo-variable <code>$this</code> est disponible lorsqu'une m\u00e9thode est appel\u00e9e depuis un contexte objet. <code>$this</code> est la valeur de l'objet appelant.</p> <p>es m\u00e9thodes et propri\u00e9t\u00e9s peuvent aussi \u00eatre acc\u00e9d\u00e9s avec l'op\u00e9rateur \"nullsafe\": ?-&gt;</p> <pre><code>$result = $repository?-&gt;getUser(5)?-&gt;name;\n</code></pre> <p>Le mot-cl\u00e9 <code>final</code> emp\u00eache les classes enfants de red\u00e9finir une m\u00e9thode, une propri\u00e9t\u00e9 ou constante en pr\u00e9fixant la d\u00e9finition avec <code>final</code>. Si la classe elle-m\u00eame est d\u00e9finie comme finale, elle ne pourra pas \u00eatre \u00e9tendue.</p> <pre><code>class BaseClass {\n   public function test() {\n       echo \"BaseClass::test() appel\u00e9e\\n\";\n   }\n\n   final public function moreTesting() {\n       echo \"BaseClass::moreTesting() appel\u00e9e\\n\";\n   }\n}\n</code></pre>"},{"location":"php/#constructeur","title":"Constructeur","text":"<p>PHP permet aux d\u00e9veloppeurs de d\u00e9clarer des constructeurs pour les classes. Les classes qui poss\u00e8dent une m\u00e9thode constructeur appellent cette m\u00e9thode \u00e0 chaque cr\u00e9ation d'une nouvelle instance de l'objet, ce qui est int\u00e9ressant pour toutes les initialisations dont l'objet a besoin avant d'\u00eatre utilis\u00e9.</p> <pre><code>class BaseClass {\n    function __construct() {\n        print \"Dans le constructeur de BaseClass\\n\";\n    }\n}\n</code></pre>"},{"location":"php/#abstraction-de-classes","title":"Abstraction de classes","text":"<p>PHP a des classes, m\u00e9thodes et propri\u00e9t\u00e9s abstraites. Les classes d\u00e9finies comme abstraites ne peuvent pas \u00eatre instanci\u00e9es, et toute classe contenant au moins une m\u00e9thode abstraite doit elle-aussi \u00eatre abstraite.</p> <pre><code>abstract class AbstractClass \n{\n    // Force les classes filles \u00e0 d\u00e9finir cette m\u00e9thode\n    abstract protected function getValue();\n    abstract protected function prefixValue($prefix);\n\n    // m\u00e9thode commune\n   public function printOut()\n   {\n        print $this-&gt;getValue() . \"\\n\";\n   }\n}\n</code></pre>"},{"location":"php/#enumerations","title":"\u00c9num\u00e9rations","text":"<pre><code>enum Suit\n{\n    case Hearts;\n    case Diamonds;\n    case Clubs;\n    case Spades;\n}\n</code></pre>"},{"location":"php/#interfaces","title":"Interfaces","text":"<p>Les interfaces d'objets permettent de cr\u00e9er du code qui sp\u00e9cifie quelles m\u00e9thodes et propri\u00e9t\u00e9s une classe doit impl\u00e9menter, sans avoir \u00e0 d\u00e9finir comment ces m\u00e9thodes ou propri\u00e9t\u00e9s sont impl\u00e9ment\u00e9es.</p> <pre><code>interface I\n{\n    // Une classe impl\u00e9mentant cette interface DOIT avoir une propri\u00e9t\u00e9 publiquement lisible,\n    // mais que celle-ci soit ou non modifiable publiquement n'est pas restreint.\n    public string $readable { get; }\n\n    // Une classe impl\u00e9mentant cette interface DOIT avoir une propri\u00e9t\u00e9 publiquement modifiable,\n    // mais que celle-ci soit ou non lisible publiquement n'est pas restreint.\n    public string $writeable { set; }\n\n    // Une classe impl\u00e9mentant cette interface DOIT avoir une propri\u00e9t\u00e9 qui est \u00e0 la fois publiquement\n    // lisible et publiquement modifiable.\n    public string $both { get; set; }\n}\n</code></pre>"},{"location":"php/#traits","title":"Traits","text":"<p>Les traits sont un m\u00e9canisme de r\u00e9utilisation de code dans un langage \u00e0 h\u00e9ritage simple tel que PHP.</p> <pre><code>trait TraitA {\n    public function sayHello() {\n        echo 'Hello';\n    }\n}\n\nclass MyHelloWorld\n{\n    use TraitA;\n\n    public function sayHelloWorld() {\n        $this-&gt;sayHello();\n        echo \"!\\n\";\n    }\n}\n</code></pre>"},{"location":"php/#types","title":"Types","text":"<p>En PHP, chaque expression a l'un des types int\u00e9gr\u00e9s suivants en fonction de sa valeur:</p> <ul> <li><code>null</code> : Le type null est le type unit\u00e9 de PHP, c'est-\u00e0-dire qu'il n'a qu'une seule valeur: <code>null</code>.</li> <li><code>bool</code> : Le type bool ne poss\u00e8de que deux valeurs, et est utilis\u00e9 pour exprimer une valeur de v\u00e9rit\u00e9. Il peut \u00eatre soit <code>true</code> soit <code>false</code>.</li> <li><code>int</code> : Un entier est un nombre appartenant \u00e0 l'ensemble \u2124 = {..., -2, -1, 0, 1, 2, ...}.</li> <li><code>float</code> : nombre \u00e0 virgule flottante</li> <li><code>string</code></li> <li><code>array</code> =&gt; <code>dict</code></li> <li><code>object</code></li> <li><code>callable</code></li> <li><code>resource</code></li> <li><code>mixed</code> : accepte toutes les valeurs</li> <li><code>void</code> : est une d\u00e9claration de type de retour uniquement, indiquant que la fonction ne retourne pas de valeur, mais que la fonction peut quand m\u00eame se terminer.</li> <li><code>never</code> : never est uniquement un type de retour indiquant que la fonction ne se termine pas.</li> </ul>"},{"location":"php/#types-de-classes-relatives","title":"Types de classes relatives","text":"<ul> <li><code>self</code> : La valeur doit \u00eatre une instance de la m\u00eame classe que celle dans laquelle la d\u00e9claration de type est utilis\u00e9e.</li> <li><code>parent</code> : La valeur doit \u00eatre une instance d'un parent de la classe dans laquelle la d\u00e9claration de type est utilis\u00e9e.</li> <li><code>static</code> : static est un type de retour uniquement qui exige que la valeur retourn\u00e9e soit une instance de la m\u00eame classe que celle sur laquelle la m\u00e9thode est appel\u00e9e.</li> </ul>"},{"location":"php/#type-cast","title":"Type cast","text":"<p>Le casting de type converti la valeur \u00e0 un type donn\u00e9e en \u00e9crivant le type entre parenth\u00e8se avant la valeur \u00e0 convertir.</p> <ul> <li><code>(int)</code> - cast en int</li> <li><code>(bool)</code> - cast en bool</li> <li><code>(float)</code> - cast en float</li> <li><code>(string)</code> - cast en string</li> <li><code>(array)</code> - cast en array</li> <li><code>(object)</code> - cast en object</li> <li><code>(unset)</code> - cast en NULL</li> </ul>"},{"location":"php/#fonctions-utiles","title":"Fonctions utiles","text":"<ul> <li><code>array_filter</code> : Filtre les \u00e9l\u00e9ments d'un tableau gr\u00e2ce \u00e0 une fonction de rappel</li> <li><code>array_find</code> : Retourne le premier \u00e9l\u00e9ment validant la fonction de rappel</li> <li><code>array_map</code> : Applique une fonction sur les \u00e9l\u00e9ments d'un tableau</li> <li><code>explode</code> : Scinde une cha\u00eene de caract\u00e8res en segments</li> <li><code>htmlspecialchars</code> : Convertit les caract\u00e8res sp\u00e9ciaux en entit\u00e9s HTML</li> <li><code>is_null</code> : Indique si une variable vaut null</li> <li><code>isset</code> : D\u00e9termine si une variable est d\u00e9clar\u00e9e et est diff\u00e9rente de null</li> <li><code>nl2br</code> : Ins\u00e8re un retour \u00e0 la ligne HTML \u00e0 chaque nouvelle ligne</li> <li><code>str_contains</code> : D\u00e9termine si une cha\u00eene contient une sous-cha\u00eene donn\u00e9e</li> <li><code>urlencode</code> : Encode une cha\u00eene en URL</li> <li><code>var_dump</code> : Affiche les informations d'une variable</li> </ul>"},{"location":"propel/","title":"Propel","text":"<p>ORM de Thelia.</p> <p>https://propelorm.org/documentation/</p>"},{"location":"propel/#crud","title":"CRUD","text":"<p>Instancier une Query :</p> <pre><code>&lt;?php\n$firstAuthor = AuthorQuery::create();\n</code></pre> <p>R\u00e9cup\u00e9rer des champs :</p> <pre><code>&lt;?php\necho $author-&gt;getId();        // 1\necho $author-&gt;getFirstName(); // 'Jane'\necho $author-&gt;getLastName();  // 'Austen'\n</code></pre> <p>R\u00e9cup\u00e9rer une entr\u00e9e depuis son ID :</p> <pre><code>&lt;?php\n$firstAuthor = AuthorQuery::create()-&gt;findPK(1);\n</code></pre> <p>R\u00e9cup\u00e9rer plusieurs entr\u00e9es depuis leurs IDs :</p> <pre><code>&lt;?php\n$selectedAuthors = AuthorQuery::create()-&gt;findPKs(array(1,2,3,4,5,6,7));\n</code></pre> <p>Filtrer les entr\u00e9es (renvoi tout par d\u00e9faut) :</p> <pre><code>&lt;?php\n$authors = AuthorQuery::create()-&gt;find();\n</code></pre>"},{"location":"symfony/","title":"Symfony","text":""},{"location":"symfony/#structure","title":"Structure","text":"<ul> <li><code>bin/</code> : The famous bin/console file lives here (and other, less important executable files).</li> <li><code>config/</code> : Contains configuration. You will configure routes, services and packages.</li> <li><code>public/</code> : This is the document root for your project: you put any publicly accessible files here.</li> <li><code>templates/</code> : All your Twig templates live here.</li> <li><code>src/</code> : All your PHP code lives here.</li> <li><code>var/</code> : This is where automatically-created files are stored, like cache files (var/cache/) and logs (var/log/).</li> <li><code>vendor/</code> : Third-party (i.e. \"vendor\") libraries live here! These are downloaded via the Composer package manager.</li> </ul>"},{"location":"symfony/#commandes-utiles","title":"Commandes utiles","text":"<ul> <li><code>php bin/console debug:router</code> : Liste toutes les routes</li> <li><code>php bin/console lint:twig</code> : V\u00e9rifie les templates Twig</li> <li><code>php bin/console debug:twig</code> : Liste les informations de Twig</li> <li><code>php bin/console make:controller &lt;nom&gt;</code> : Cr\u00e9e un nouveau contr\u00f4leur</li> </ul>"},{"location":"thelia/","title":"Thelia","text":""},{"location":"thelia/#loops","title":"Loops","text":"<p>https://doc.thelia.net/docs/loops</p> <p>Permet de lister et filtrer une collection d'instances de mod\u00e8les dans un template.</p> <pre><code>&lt;table&gt;\n  {loop name='apy_customers' type='apy_customers'}\n    &lt;tr&gt;\n      &lt;td&gt;{$firstname}&lt;/td&gt;\n    &lt;/tr&gt;  \n  {/loop}\n&lt;/table&gt;\n</code></pre> <p>On peut ajouter une condition en amont pour ne pas afficher un tableau vide si il n'y a pas de r\u00e9sultats par exemple :</p> <pre><code>{ifloop rel=\"apy_customers\"}\n  ...boucle...\n{/ifloop}\n</code></pre>"},{"location":"thelia/#implementation","title":"Impl\u00e9mentation","text":"<p>Cot\u00e9 backend il faut cr\u00e9er un fichier d\u00e9di\u00e9 dans le dossier <code>Loop</code>, par exemple <code>ApyCustomerLoop</code>.</p> <p>Cr\u00e9er une classe <code>ApyCustomerLoop</code> qui h\u00e9rite de la classe Thelia <code>BaseI18nLoop</code> et de <code>PropelSearchLoopInterface</code> pour cr\u00e9er une loop Propel.</p> <p>Elle doit impl\u00e9menter obligatoirement 3 fonctions :</p> <ul> <li><code>getArgDefinitions</code> : d\u00e9crit les arguments (requis ou optionels, et types) de la loop.</li> <li><code>buildModelCriteria</code> : cr\u00e9e la requ\u00eate Propel avec les diff\u00e9rents filtres, jointures etc... qui va retourner la collection d'objets.</li> <li><code>parseResults</code> : cr\u00e9e les variables disponibles dans le template depuis les r\u00e9sultats de la requ\u00eate.</li> </ul>"},{"location":"thelia/#exemple","title":"Exemple","text":"<pre><code>class ApyCustomerLoop extends BaseI18nLoop implements PropelSearchLoopInterface {\n    protected function getArgDefinitions(): ArgumentCollection\n    {\n        return new ArgumentCollection();\n    }\n\n    public function buildModelCriteria(): ModelCriteria\n    {\n        // liste des apyCustomers\n        $apyCustomers = ApyCustomerQuery::create();\n\n        // jointure sur la table customer\n        $customerJoin = new Join(\n            ApyCustomerTableMap::COL_CUSTOMER_ID,\n            CustomerTableMap::ID,\n            Criteria::INNER_JOIN\n        );\n        $apyCustomers\n            -&gt;addJoinObject($customerJoin, 'customer_join')\n            -&gt;withColumn(CustomerTableMap::FIRSTNAME, 'firstname')\n            -&gt;withColumn(CustomerTableMap::LASTNAME, 'lastname')\n            -&gt;withColumn(CustomerTableMap::EMAIL, 'email')\n            -&gt;withColumn(CustomerTableMap::CREATED_AT, 'created_at');\n\n        // jointure optionnelle sur la table lang\n        $langJoin = new Join(\n            CustomerTableMap::LANG_ID,\n            LangTableMap::ID,\n            Criteria::LEFT_JOIN\n        );\n        $apyCustomers\n            -&gt;addJoinObject($langJoin, 'lang_join')\n            -&gt;withColumn(LangTableMap::TITLE, 'lang_title');\n\n        // tri par apy_customer.id\n        $apyCustomers-&gt;orderById();\n        return $apyCustomers;\n    }\n\n    public function parseResults(LoopResult $loopResult)\n    {\n        /** @var ApyCustomer $apyCustomer */\n        foreach ($loopResult-&gt;getResultDataCollection() as $apyCustomer) {\n            $loopResultRow = new LoopResultRow($apyCustomer);\n            $loopResultRow-&gt;set('id', $apyCustomer-&gt;getId());\n            $loopResultRow-&gt;set('customerId', $apyCustomer-&gt;getCustomerId());\n            $loopResultRow-&gt;set('firstName', $apyCustomer-&gt;getVirtualColumn('firstname'));\n            $loopResultRow-&gt;set('lastName', $apyCustomer-&gt;getVirtualColumn('lastname'));\n            $loopResultRow-&gt;set('email', $apyCustomer-&gt;getVirtualColumn('email'));\n            $loopResultRow-&gt;set('createdAt', $apyCustomer-&gt;getVirtualColumn('created_at'));\n            $loopResultRow-&gt;set('langTitle', $apyCustomer-&gt;getVirtualColumn('lang_title'));\n            $loopResult-&gt;addRow($loopResultRow);\n        }\n\n        return $loopResult;\n    }\n}\n</code></pre>"}]}